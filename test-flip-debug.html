<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Flip Debug - ç¿»è½¬è°ƒè¯•</title>
    <style>
        body {
            margin: 40px;
            background: #0b1020;
            color: #fff;
            font-family: monospace;
        }
        .container {
            perspective: 1000px;
            width: 200px;
            height: 300px;
            margin: 40px auto;
            position: relative;
        }
        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 2s ease-in-out;
        }
        .face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
        }
        .front {
            background: white;
            color: black;
            transform: rotateY(0deg);
        }
        .front img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        .back {
            background: #2b4a2d url('./assets/card-back.png') center/cover no-repeat;
            border: 2px solid #1a3a1d;
            transform: rotateY(180deg);
        }
        .controls {
            text-align: center;
            margin: 20px;
        }
        button {
            padding: 10px 20px;
            margin: 5px;
            font-size: 14px;
            cursor: pointer;
            background: #1e40af;
            color: white;
            border: none;
            border-radius: 8px;
        }
        .info {
            text-align: center;
            margin: 20px;
            font-size: 14px;
            color: #7aa2ff;
        }
        .debug {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 20px auto;
            max-width: 600px;
        }
        .debug div {
            margin: 5px 0;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center;">ğŸ´ 3D Card Flip Debug</h1>

    <div class="container">
        <div class="card" id="card">
            <div class="face front">
                <img src="./assets/joker.png" alt="Joker">
            </div>
            <div class="face back"></div>
        </div>
    </div>

    <div class="controls">
        <button onclick="flipTo(0)">0Â°</button>
        <button onclick="flipTo(45)">45Â°</button>
        <button onclick="flipTo(90)">90Â°</button>
        <button onclick="flipTo(135)">135Â°</button>
        <button onclick="flipTo(180)">180Â°</button>
        <button onclick="flipTo(225)">225Â°</button>
        <button onclick="flipTo(270)">270Â°</button>
        <button onclick="flipTo(360)">360Â°</button>
    </div>

    <div class="info">
        å½“å‰è§’åº¦ï¼š<span id="angle">0</span>Â°<br>
        åº”æ˜¾ç¤ºï¼š<span id="should-show">æ­£é¢ï¼ˆJokerï¼‰</span>
    </div>

    <div class="debug">
        <div><strong>è°ƒè¯•ä¿¡æ¯ï¼š</strong></div>
        <div>âœ… transform-style: preserve-3d</div>
        <div>âœ… backface-visibility: hidden</div>
        <div>âœ… æ­£é¢ï¼šrotateY(0deg)</div>
        <div>âœ… èƒŒé¢ï¼šrotateY(180deg)</div>
        <div id="card-transform">transform: rotateY(0deg)</div>
        <div id="front-visible">æ­£é¢å¯è§æ€§: visible</div>
        <div id="back-visible">èƒŒé¢å¯è§æ€§: hidden</div>
    </div>

    <script>
        const card = document.getElementById('card');
        const angleSpan = document.getElementById('angle');
        const shouldShow = document.getElementById('should-show');
        const cardTransform = document.getElementById('card-transform');
        const frontVisible = document.getElementById('front-visible');
        const backVisible = document.getElementById('back-visible');

        function flipTo(deg) {
            card.style.transform = `rotateY(${deg}deg)`;
            angleSpan.textContent = deg;
            cardTransform.textContent = `transform: rotateY(${deg}deg)`;

            // åˆ¤æ–­åº”è¯¥æ˜¾ç¤ºå“ªä¸€é¢
            const normalizedDeg = deg % 360;
            if (normalizedDeg >= 90 && normalizedDeg < 270) {
                shouldShow.textContent = 'èƒŒé¢ï¼ˆæ£®æ—å¡èƒŒï¼‰';
                shouldShow.style.color = '#2bd576';
                frontVisible.textContent = 'æ­£é¢å¯è§æ€§: hidden (backface)';
                backVisible.textContent = 'èƒŒé¢å¯è§æ€§: visible';
            } else {
                shouldShow.textContent = 'æ­£é¢ï¼ˆJokerï¼‰';
                shouldShow.style.color = '#7aa2ff';
                frontVisible.textContent = 'æ­£é¢å¯è§æ€§: visible';
                backVisible.textContent = 'èƒŒé¢å¯è§æ€§: hidden (backface)';
            }
        }

        // è‡ªåŠ¨æ¼”ç¤º
        let auto = true;
        setTimeout(() => {
            if (auto) flipTo(180);
        }, 1000);
        setTimeout(() => {
            if (auto) flipTo(0);
        }, 3500);
        setTimeout(() => {
            if (auto) flipTo(90);
        }, 6000);
        setTimeout(() => {
            if (auto) flipTo(270);
        }, 8500);

        console.log('ğŸ´ Flip Debug Ready!');
        console.log('ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹ä¸åŒè§’åº¦çš„ç¿»è½¬æ•ˆæœ');
        console.log('0-90Â°: æ­£é¢');
        console.log('90-270Â°: èƒŒé¢');
        console.log('270-360Â°: æ­£é¢');
    </script>
</body>
</html>
