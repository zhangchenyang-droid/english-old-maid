<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>AIå‡ºç‰ŒåŠ¨ç”»è°ƒè¯•</title>
  <style>
    body { margin: 20px; font-family: sans-serif; }
    .debug-box { padding: 10px; margin: 10px 0; background: #f0f0f0; border-radius: 4px; }
    .error { background: #ffe6e6; color: #c00; }
    .success { background: #e6ffe6; color: #060; }
    .warning { background: #fff3e6; color: #c60; }
    code { background: #e0e0e0; padding: 2px 6px; border-radius: 3px; }
  </style>
</head>
<body>
  <h1>ğŸ” AIå‡ºç‰ŒåŠ¨ç”»è°ƒè¯•å·¥å…·</h1>

  <div class="debug-box">
    <h2>ä½¿ç”¨æ–¹æ³•ï¼š</h2>
    <ol>
      <li>æ‰“å¼€æ¸¸æˆï¼š<a href="http://127.0.0.1:8000/english-old-maid/" target="_blank">http://127.0.0.1:8000/english-old-maid/</a></li>
      <li>æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å° (F12)</li>
      <li>å¤åˆ¶ä¸‹é¢çš„ä»£ç å¹¶ç²˜è´´åˆ°æ§åˆ¶å°</li>
      <li>å¼€å§‹æ¸¸æˆï¼Œç­‰å¾…AIå‡ºç‰Œ</li>
      <li>è§‚å¯Ÿæ§åˆ¶å°è¾“å‡º</li>
    </ol>
  </div>

  <div class="debug-box warning">
    <h2>ğŸ“‹ è°ƒè¯•ä»£ç  (å¤åˆ¶åˆ°æ§åˆ¶å°):</h2>
    <pre><code id="debug-code">// ç›‘å¬ AI å‡ºç‰ŒåŠ¨ç”»
(function() {
  // ä¿å­˜åŸå§‹å‡½æ•°
  const originalAnimate = HTMLElement.prototype.animate;

  // æ‹¦æˆªæ‰€æœ‰ animate è°ƒç”¨
  HTMLElement.prototype.animate = function(keyframes, options) {
    // æ£€æŸ¥æ˜¯å¦æ˜¯ flipContainer
    if (this.style && this.style.transformStyle === 'preserve-3d') {
      console.log('ğŸ¬ æ£€æµ‹åˆ°åŠ¨ç”»å…ƒç´ :', this);
      console.log('ğŸ“ å…ƒç´ ä½ç½®:', {
        left: this.style.left,
        top: this.style.top,
        zIndex: this.style.zIndex
      });
      console.log('ğŸ“ å…ƒç´ å¤§å°:', {
        width: this.style.width,
        height: this.style.height
      });
      console.log('ğŸï¸ å…³é”®å¸§:', keyframes);
      console.log('â±ï¸ é€‰é¡¹:', options);

      // æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨å¯è§†åŒºåŸŸ
      const rect = this.getBoundingClientRect();
      console.log('ğŸ“¦ å®é™…ä½ç½® (getBoundingClientRect):', rect);

      if (rect.left < -1000 || rect.top < -1000 || rect.left > window.innerWidth + 1000 || rect.top > window.innerHeight + 1000) {
        console.error('âŒ å…ƒç´ åœ¨å±å¹•å¤–ï¼');
      } else {
        console.log('âœ… å…ƒç´ åœ¨å±å¹•å†…');
      }

      // æ£€æŸ¥æ˜¯å¦è¢«å…¶ä»–å…ƒç´ é®æŒ¡
      const topElement = document.elementFromPoint(rect.left + rect.width/2, rect.top + rect.height/2);
      if (topElement !== this) {
        console.warn('âš ï¸ å…ƒç´ å¯èƒ½è¢«é®æŒ¡ï¼Œé¡¶å±‚å…ƒç´ æ˜¯:', topElement);
      }
    }

    // è°ƒç”¨åŸå§‹å‡½æ•°
    return originalAnimate.call(this, keyframes, options);
  };

  console.log('âœ… AIå‡ºç‰ŒåŠ¨ç”»ç›‘å¬å™¨å·²å®‰è£…');
  console.log('ğŸ’¡ ç°åœ¨å¼€å§‹æ¸¸æˆï¼Œå½“AIå‡ºç‰Œæ—¶ä¼šè‡ªåŠ¨æ‰“å°è°ƒè¯•ä¿¡æ¯');
})();
</code></pre>
  </div>

  <button onclick="copyCode()" style="padding: 10px 20px; font-size: 16px; cursor: pointer;">ğŸ“‹ å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿</button>

  <div class="debug-box">
    <h2>ğŸ” å¸¸è§é—®é¢˜ï¼š</h2>
    <ul>
      <li><strong>çœ‹ä¸åˆ°æ—¥å¿—ï¼Ÿ</strong> â†’ ç¡®è®¤æ¸¸æˆå·²ç»å¼€å§‹ï¼Œç­‰å¾…AIå›åˆ</li>
      <li><strong>å…ƒç´ åœ¨å±å¹•å¤–ï¼Ÿ</strong> â†’ fromRect è®¡ç®—é”™è¯¯ï¼Œéœ€è¦ä¿®å¤èµ·å§‹ä½ç½®</li>
      <li><strong>å…ƒç´ è¢«é®æŒ¡ï¼Ÿ</strong> â†’ z-index å¤ªä½ï¼Œéœ€è¦æé«˜å±‚çº§</li>
      <li><strong>æ²¡æœ‰çº¢è‰²çŸ©å½¢ï¼Ÿ</strong> â†’ åŠ¨ç”»å®Œæˆå¤ªå¿«ï¼Œæˆ–å…ƒç´ ç«‹å³è¢«ç§»é™¤</li>
    </ul>
  </div>

  <script>
    function copyCode() {
      const code = document.getElementById('debug-code').textContent;
      navigator.clipboard.writeText(code).then(() => {
        alert('âœ… ä»£ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼\n\nç°åœ¨ï¼š\n1. æ‰“å¼€æ¸¸æˆé¡µé¢\n2. æŒ‰ F12 æ‰“å¼€æ§åˆ¶å°\n3. ç²˜è´´ä»£ç å¹¶æŒ‰å›è½¦');
      });
    }
  </script>
</body>
</html>
